<?php

namespace Database\Seeders;

use App\Models\Menu;
use App\Models\MenuLevel;
use Illuminate\Database\Seeder;

class MenuSeeder extends Seeder
{
    /**
     * Run the database seeds.
     */
    public function run(): void
    {
        // 获取分类
        $soupLevel = MenuLevel::where('name', '汤类')->first();
        $stirFryLevel = MenuLevel::where('name', '炒菜')->first();

        // 创建土豆汤菜谱
        Menu::create([
            'title' => '土豆汤',
            'subtitle' => '炖至软糯入味的土豆片，汤汁鲜美浓郁，口感绵密，是暖身暖心的绝佳选择。',
            'menu_level_id' => $soupLevel->id,
            'content' => $this->getPotatoSoupContent(),
            'order_count' => 0,
            'view_count' => 0,
            'is_visible' => true,
            'sort_order' => 100,
        ]);

        // 创建黄瓜炒鸡蛋菜谱
        Menu::create([
            'title' => '黄瓜炒鸡蛋',
            'subtitle' => '清爽脆嫩的黄瓜与金黄滑嫩的鸡蛋完美融合，色香味俱佳，简单又美味的家常小炒。',
            'menu_level_id' => $stirFryLevel->id,
            'content' => $this->getCucumberEggContent(),
            'order_count' => 0,
            'view_count' => 0,
            'is_visible' => true,
            'sort_order' => 95,
        ]);

        // 创建青椒炒豆腐皮菜谱
        Menu::create([
            'title' => '青椒炒豆腐皮',
            'subtitle' => '青椒的清香与豆腐皮的Q弹完美结合，口感丰富，是一道简单快手的家常素菜。',
            'menu_level_id' => $stirFryLevel->id,
            'content' => $this->getTofuSkinPepperContent(),
            'order_count' => 0,
            'view_count' => 0,
            'is_visible' => true,
            'sort_order' => 90,
        ]);

        // 创建洋葱炒鸡蛋菜谱
        Menu::create([
            'title' => '洋葱炒鸡蛋',
            'subtitle' => '洋葱的甜脆与鸡蛋的香滑交织，色泽金黄，口感丰富，是简单又美味的快手家常菜。',
            'menu_level_id' => $stirFryLevel->id,
            'content' => $this->getOnionEggContent(),
            'order_count' => 0,
            'view_count' => 0,
            'is_visible' => true,
            'sort_order' => 85,
        ]);

        // 创建清炒土豆丝菜谱
        Menu::create([
            'title' => '清炒土豆丝',
            'subtitle' => '土豆丝清脆爽口，酸辣开胃，是家喻户晓、百吃不厌的经典家常菜。',
            'menu_level_id' => $stirFryLevel->id,
            'content' => $this->getShreddedPotatoContent(),
            'order_count' => 0,
            'view_count' => 0,
            'is_visible' => true,
            'sort_order' => 80,
        ]);

        $this->command->info('已创建 ' . Menu::count() . ' 个菜谱');
    }

    /**
     * 获取土豆汤的详细做法
     */
    private function getPotatoSoupContent(): string
    {
        return "### 准备材料
- 土豆 1个（一人食选小土豆，二人食选大土豆或两个小土豆）
- 大蒜 3颗（拍散剁碎成沫）
- 盐 1茶勺
- 白胡椒粉 1茶勺
- 味精 1茶勺
- 醋 1勺
- 耗油 1勺
- 葱花 1勺

### 制作步骤

1. **准备土豆**：土豆洗净，去皮，对半切（大土豆则再切一次，片太大后续不容易翻炒），再切片。切片后凉水冲洗3遍，去除表面淀粉，并浸泡一会。

2. **处理大蒜**：大蒜去皮，拍散，剁成碎末。

3. **准备砂锅**：准备砂锅一个，锅底倒一点油，摇匀使其铺满锅底。

4. **爆香蒜末**：开大火，烧热锅体和油，油烧热后倒入蒜末，炒香。

5. **翻炒土豆**：土豆片沥干水分，导入锅中，继续翻炒30s。

6. **加水炖煮**：倒入清水，水面没过土豆，爱喝汤的可适当再多一点水。

7. **调味炖煮**：继续保持大火，将水烧开，水开后转中小火继续炖煮10分钟。

8. **调味**：紧接着，开始调味。加入一茶勺盐、一茶勺白胡椒粉（先倒在炒勺中，然后用汤搅开搅散，再倒入汤中）、一茶勺味精、一勺醋、一勺耗油（先倒在炒勺中，然后用汤搅开搅散，再倒入汤中）。

9. **出锅**：时间到后关火，导入葱花，出锅上桌。

### 小贴士
- 土豆切片后一定要冲洗去除淀粉，这样汤会更清澈
- 调味料先倒在炒勺中用汤搅散再倒入，可以避免结块
- 根据个人口味可以适当调整调味料的用量";
    }

    /**
     * 获取黄瓜炒鸡蛋的详细做法
     */
    private function getCucumberEggContent(): string
    {
        return "### 准备材料
- 黄瓜 3根
- 鸡蛋 4个
- 蒜 3瓣
- 盐 1茶勺
- 味精 1茶勺

### 制作步骤

1. **准备黄瓜**：黄瓜洗净，对半切开，斜刀切片。

2. **准备鸡蛋**：鸡蛋打散待用。

3. **处理大蒜**：三瓣蒜拍散剁成蒜末。

4. **炒鸡蛋**：起锅烧油，油热后转中火，下入鸡蛋液，不急着翻动，微微定型，炒勺前推，让蛋液重新流入锅底定型，炒勺后拉，让剩余蛋液重新流入锅底定型。颠勺反面，些许后，用炒勺捣碎成大块，关火，盛出备用。

5. **爆香蒜末**：起锅烧油，油热下入蒜末，炒香。

6. **炒制黄瓜**：下入黄瓜片，大火翻炒，炒至黄瓜片开始由白转为半透明，倒入鸡蛋块继续翻炒10s。

7. **调味**：转小火调味。下入盐一茶勺，味精一茶勺，转大火翻拌均匀。

8. **出锅**：关火，装盘，出锅。

### 小贴士
- 鸡蛋炒熟将有效去除蛋腥味";
    }

    /**
     * 获取青椒炒豆腐皮的详细做法
     */
    private function getTofuSkinPepperContent(): string
    {
        return "### 准备材料
- 豆腐皮 2张（又称千张）
- 菜椒 2个
- 青椒 1个
- 小苏打 1茶勺（又称食碱）
- 小炒调味剂 2勺（仲景家家常小炒调味剂，超市有卖，快速调味无需自配，有助于打工人快速吃上饭）
- 大蒜 3瓣

### 制作步骤

1. **准备豆腐皮**：豆腐皮展开，切成一公分长的细丝，清洗后浸泡备用。

2. **处理辣椒**：青椒、菜椒去蒂。菜椒一分为二，切丝。青椒直接切丝圈。

3. **处理大蒜**：三瓣蒜拍散剁碎。

4. **焯水豆腐皮**：准备给豆腐皮焯水。起锅加水，倒入一茶勺小苏打。水烧开后下入豆腐皮，20s后捞出，凉水冲3次以上，洗去碱，最后清水浸泡备用。

5. **爆香蒜末**：起锅烧油，油热后下入蒜末炒香。

6. **炒制辣椒**：下入青椒丝和菜椒丝，开大火炒，炒至辣椒丝发软。倒入豆腐皮，翻炒20s。

7. **调味**：转小火调味，转圈淋入2勺仲景家家常小炒调味剂。然后开大火，翻炒30s。

8. **出锅**：关火，出锅，装盘。

### 小贴士
- 小苏打会极大改善豆腐皮口感，使其软化Q弹
- 豆腐皮在小苏打水中焯水不能过长，否则容易断，让食材过软影响口感
- 菜椒没味道，加入点青椒提味。能吃辣的可以全部换成青椒。不吃辣？那就全换成小米辣以毒攻毒，练练就能吃辣了👊👊👊";
    }

    /**
     * 获取洋葱炒鸡蛋的详细做法
     */
    private function getOnionEggContent(): string
    {
        return "### 准备材料
- 洋葱 1个
- 鸡蛋 4个
- 盐 1茶勺
- 鸡精 1茶勺
- 生抽 1勺
- 耗油 1勺

### 制作步骤

1. **准备洋葱**：洋葱洗净，取外皮，对半切开，再切丝备用。

2. **准备鸡蛋**：鸡蛋打散备用。

3. **炒鸡蛋**：起锅烧油，油热后转中火，下入鸡蛋液，不急着翻动，微微定型，炒勺前推，让蛋液重新流入锅底定型，炒勺后拉，让剩余蛋液重新流入锅底定型。颠勺反面，些许后，用炒勺捣碎成大块，关火，盛出备用。

4. **炒制洋葱**：起锅烧油，大火油热后，下入洋葱，开炒，炒至洋葱发软。

5. **加入鸡蛋**：下入鸡蛋，继续翻炒20s。

6. **调味**：转小火。下入一茶勺盐、一茶勺鸡精、一茶勺生抽、一茶勺耗油。

7. **炒制完成**：转中火将调味搅拌均匀，稍微炒一会。

8. **出锅**：关火、出锅、装盘。";
    }

    /**
     * 获取清炒土豆丝的详细做法
     */
    private function getShreddedPotatoContent(): string
    {
        return "### 准备材料
- 土豆 1个
- 青椒 1个
- 大蒜 3瓣
- 盐 1茶勺
- 味精 1茶勺

### 制作步骤

1. **准备土豆丝**：土豆洗净，去皮，切丝或者抛丝，再用清水清洗洗去土豆丝表面淀粉，最后在清水浸泡一下。

2. **处理青椒**：青椒清洗，去蒂，切圈丝。

3. **处理大蒜**：三瓣蒜拍散剁成蒜末。

4. **爆香蒜末**：起锅烧油，油热下蒜末炒香。

5. **炒制土豆丝**：下入土豆丝，开大火快速翻炒2-3分钟，让土豆丝发软。

6. **加入青椒**：下入青椒丝，继续翻炒，直到土豆丝熟。期间可自己尝尝。

7. **调味**：关小火。加入一勺盐、一勺味精。再开中火，翻炒拌匀。

8. **出锅**：关火、出锅、装盘。

### 小贴士
- 这种不焯水的土豆丝，炒出来是清脆的，焯水的会稍微发软。这是口感问题，因人而异，我还是觉得清脆的好吃
- 青椒的作用是提味提辣，可也点缀些许的红椒，色彩更好
- 加入蒜末的那一步，在加入点花椒粒风味更佳。但这东西有人不爱吃😅";
    }
}
